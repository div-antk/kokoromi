# 試みの地平線データベース (α版)

## **うじうじ悩むな、小僧ども**

かつてホットドッグ・プレスにて好評を博し、16年にわたって連載された伝説の人生相談『試みの地平線』のデータベースです。  

同連載は特定の世代からの人気や知名度があるにも関わらず、ネットで検索しても話題になったごく一部の相談しか見つけることができない、もしくは **「ソープへ行け」** というフレーズのみで語られることが多く、最悪の場合、なんでもかんでも **「ソープへ行け」** と回答していると勘違いされているフシさえあることに歯痒い思いをしていました。  

また、現在書店で手に入れて読むことができる『伝説復活編』はベスト版のようなものであり、収録されなかった相談が載った過去の2巻とホットドッグ・プレスは廃刊となっているため、簡単に読むことができません。  
珍妙な回答を楽しむこともできますが、中には本当に自分を後押しするような回答もたくさんあります。  
人生の悩みは昔も今も普遍的なものであり「今こんなことで悩んでいる」もしくは「当時こんなことで悩んでいた」という小僧どもに向け、このままこれを埋もれさせるのは喪失だという使命感に駆られて製作しました。

## 開発環境

Ruby/Ruby on Rails/MySQL/Github/AWS/Visual Studio Code

## 概要

下記に掲載された相談から閲覧、検索することが可能です（予定含む）。  

- 1988年発行『試みの地平線』
- 1990年発行『続・試みの地平線』
- 2006年発行『試みの地平線（伝説復活編）』
- ホットドッグ・プレス（1986年1月10日号〜2002年6月10日号）

『相談』はタイトルのみ。  
北方先生による回答は全文ではなく要約（筆者による）されたものとなっています。

## 技術

- ransackによる検索機能（キーワード、セレクトボックス、ラジオボタン）
- 人力によるCSVファイルへの打ち込み

## 検索

- キーワード（相談、回答、両方）
- 相談者の年齢（学年）
- 性別
- 都道府県
- 掲載誌

以上から検索できます。  
自分と同じ悩みを持っている人がいたかどうかなどを見つけやすいです。  
相談によっては記入が無かったものもあります。

## 今後の実装予定

- トップページにはランダムで数件のみの表示、およびページネーション

実装を試みたが、どちらもうまくいかなかった。  
なんらかの理由でransackと干渉しているのかもしれない。

- ログインすると相談の『ストック』ができる

ログインをしなくても使うことができる仕様にはしたかったが、ログインをすることで『いいね』や『ストック』ができる仕様にしても良いと思う。

- 記事の追加

現在のところアナログで打ち込むしかないのがいかんせん効率がよくない……というよりプログラミングよりそれのほうが時間がかかってしまっている。  
OCRも検討する。

- 『カテゴリ』の実装

『友情』や『仕事』でカテゴリ検索できるようにする。

## DB設計

### counselingテーブル

| Column      | Type | Option      |
| ----------- | ---- | ----------- |
| question    | str  | null: false |
| answer1     | str  | null: false |
| answer2     | str  | null: false |
| answer3     | str  | null: false |
| prefecture1 | str  | null: true  |
| name1       | str  | null: true  |
| sex1        | str  | null: true  |
| age1        | str  | null: true  |
| prefecture2 | str  | null: true  |
| name2       | str  | null: ture  |
| sex2        | str  | null: true  |
| age2        | str  | null: true  |
| issue1      | str  | null: false |
| issue2      | str  | null: true  |
| issue3      | str  | null: true  |
| category1   | int  | null: ture  |
| category2   | int  | null: ture  |
| category3   | int  | null: ture  |
|             |      |             |

カテゴリは未実装。

## GitHubリポジトリ

`https://github.com/div-antk/kokoromi`
